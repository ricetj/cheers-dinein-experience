-- Update Restaurant Phone Data Type, insert single record
alter table restaurant modify restaurant_phone varchar(20)
;
insert into restaurant values (1,'Cheers Dine-In','123 Oak Street','Chicago','IL',60001,'USA','773-555-0123','support@cheersdin.us','cheersdinein.com')
;
-- Pretty sure this table is redundant with seat_table, but inserting values just in case
insert into tables values (1,1,'')
,(2,1,'')
,(3,1,'')
,(4,1,'')
,(5,1,'')
,(6,1,'')
;
-- Update first and last names in customers table to match accounts table
UPDATE
    customers c
    JOIN
    accounts a ON c.cust_id = a.acc_id 
SET
    c.cust_first_name = a.acc_first_name
    ,c.cust_last_name = a.acc_last_name
;
-- Confirm updates after join
select * from customers c
left outer join accounts a on c.cust_id = a.acc_id
;
-- Delete unneccessary customers
delete from customers where cust_id > 100
;

-- Update cost in orders table to aggregate cost from ordered_items table for a consistent 'True Cost'.  Run this after inserting values below.
UPDATE orders o
INNER JOIN (
			SELECT oi.order_id
			,sum(oi.orditm_cost) true_order_cost                   
			FROM ordered_items oi
			GROUP BY oi.order_id
            ) oic ON oic.order_id = o.order_id
SET o.order_cost = oic.true_order_cost
;

-- Insert Values into ordered_items table
insert into ordered_items values
(16,1,'CLOSED','',3,1)
,(5,1,'CLOSED','',10,1)
,(7,2,'CLOSED','',10,1)
,(3,2,'CLOSED','',10,2)
,(8,2,'CLOSED','',8,1)
,(18,2,'CLOSED','',3,2)
,(5,3,'CLOSED','',10,2)
,(14,3,'CLOSED','',12,2)
,(9,3,'CLOSED','',13,2)
,(12,4,'CLOSED','',9,2)
,(8,4,'CLOSED','',8,1)
,(10,4,'CLOSED','',9,1)
,(9,4,'CLOSED','',13,1)
,(3,4,'CLOSED','',10,1)
,(18,4,'CLOSED','',3,2)
,(1,4,'CLOSED','',5,2)
,(1,5,'CLOSED','',5,2)
,(5,5,'CLOSED','',10,1)
,(7,5,'CLOSED','',10,2)
,(12,5,'CLOSED','',9,1)
,(16,5,'CLOSED','',3,1)
,(10,5,'CLOSED','',9,2)

,(6,6,'CLOSED','',4,1)
,(18,6,'CLOSED','',3,2)
,(1,6,'CLOSED','',5,2)
,(13,6,'CLOSED','',10,2)
,(2,6,'CLOSED','',9,2)
,(5,7,'CLOSED','',10,2)
,(15,7,'CLOSED','',2,2)
,(6,7,'CLOSED','',4,2)
,(4,7,'CLOSED','',7,1)
,(9,7,'CLOSED','',13,1)
,(4,8,'CLOSED','',7,2)
,(10,8,'CLOSED','',9,2)
,(12,8,'CLOSED','',9,2)
,(3,8,'CLOSED','',10,2)
,(3,9,'CLOSED','',10,1)
,(4,9,'CLOSED','',7,1)
,(2,9,'CLOSED','',9,1)
,(9,9,'CLOSED','',13,1)
,(5,9,'CLOSED','',10,1)
,(14,10,'CLOSED','',12,1)

,(8,10,'CLOSED','',8,1)
,(11,10,'CLOSED','',9,2)
,(12,10,'CLOSED','',9,2)
,(4,10,'CLOSED','',7,1)
,(2,10,'CLOSED','',9,2)
,(17,11,'CLOSED','',2,1)
,(3,11,'CLOSED','',10,1)
,(13,11,'CLOSED','',10,1)
,(11,11,'CLOSED','',9,2)
,(14,11,'CLOSED','',12,1)
,(4,11,'CLOSED','',7,2)
,(6,11,'CLOSED','',4,1)
,(10,12,'CLOSED','',9,2)
,(18,12,'CLOSED','',3,1)
,(8,12,'CLOSED','',8,2)
,(12,13,'CLOSED','',9,1)
,(9,13,'CLOSED','',13,1)
,(2,13,'CLOSED','',9,1)
,(13,13,'CLOSED','',10,1)
,(11,13,'CLOSED','',9,2)
,(8,13,'CLOSED','',8,1)
,(5,14,'CLOSED','',10,2)
,(11,14,'CLOSED','',9,1)
,(15,14,'CLOSED','',2,1)
,(6,14,'CLOSED','',4,1)
,(3,14,'CLOSED','',10,2)
,(6,15,'CLOSED','',4,2)
,(2,15,'CLOSED','',9,2)
,(5,15,'CLOSED','',10,2)
,(8,15,'CLOSED','',8,1)
,(3,15,'CLOSED','',10,2)
,(15,15,'CLOSED','',2,1)
,(9,15,'CLOSED','',13,1)
,(12,15,'CLOSED','',9,2)
,(1,16,'CLOSED','',5,2)
,(7,16,'CLOSED','',10,1)
,(8,16,'CLOSED','',8,1)
,(17,16,'CLOSED','',2,1)
,(16,16,'CLOSED','',3,1)
,(13,17,'CLOSED','',10,2)
,(11,17,'CLOSED','',9,2)
,(16,17,'CLOSED','',3,1)
,(2,17,'CLOSED','',9,2)
,(8,17,'CLOSED','',8,2)
,(1,17,'CLOSED','',5,2)
,(5,18,'CLOSED','',10,2)
,(3,18,'CLOSED','',10,1)
,(14,18,'CLOSED','',12,1)
,(7,18,'CLOSED','',10,2)
,(12,18,'CLOSED','',9,1)
,(4,18,'CLOSED','',7,1)
,(6,19,'CLOSED','',4,1)
,(16,19,'CLOSED','',3,2)
,(7,19,'CLOSED','',10,2)
,(6,20,'CLOSED','',4,2)
,(8,20,'CLOSED','',8,1)
,(10,20,'CLOSED','',9,2)
,(17,20,'CLOSED','',2,1)
,(9,20,'CLOSED','',13,2)
,(3,20,'CLOSED','',10,2)
,(18,20,'CLOSED','',3,1)
,(14,20,'CLOSED','',12,2)
,(16,20,'CLOSED','',3,2)
,(1,21,'CLOSED','',5,2)
,(13,21,'CLOSED','',10,2)
,(7,21,'CLOSED','',10,2)
,(11,21,'CLOSED','',9,1)
,(10,21,'CLOSED','',9,2)
,(8,21,'CLOSED','',8,1)
,(2,21,'CLOSED','',9,1)
,(9,22,'CLOSED','',13,2)
,(12,22,'CLOSED','',9,1)
,(1,23,'CLOSED','',5,1)
,(8,23,'CLOSED','',8,1)
,(7,23,'CLOSED','',10,1)
,(15,23,'CLOSED','',2,1)
,(4,24,'CLOSED','',7,2)
,(5,24,'CLOSED','',10,2)
,(6,24,'CLOSED','',4,1)
,(2,24,'CLOSED','',9,1)
,(7,24,'CLOSED','',10,1)
,(8,24,'CLOSED','',8,1)
,(14,25,'CLOSED','',12,2)
,(7,25,'CLOSED','',10,2)
,(15,25,'CLOSED','',2,1)
,(13,26,'CLOSED','',10,1)
,(5,26,'CLOSED','',10,1)
,(17,26,'CLOSED','',2,1)
,(10,26,'CLOSED','',9,1)
,(14,26,'CLOSED','',12,1)
,(1,27,'CLOSED','',5,2)
,(18,27,'CLOSED','',3,2)
,(16,27,'CLOSED','',3,1)
,(12,27,'CLOSED','',9,2)
,(5,27,'CLOSED','',10,2)
,(17,27,'CLOSED','',2,2)
,(8,28,'CLOSED','',8,1)
,(13,28,'CLOSED','',10,1)
,(10,28,'CLOSED','',9,2)
,(15,29,'CLOSED','',2,2)
,(9,29,'CLOSED','',13,2)
,(7,29,'CLOSED','',10,2)
,(17,29,'CLOSED','',2,1)
,(10,29,'CLOSED','',9,1)
,(14,29,'CLOSED','',12,1)
,(9,30,'CLOSED','',13,2)
,(2,30,'CLOSED','',9,2)
,(10,30,'CLOSED','',9,1)
,(13,30,'CLOSED','',10,2)
,(10,31,'CLOSED','',9,1)
,(13,31,'CLOSED','',10,1)
,(12,31,'CLOSED','',9,1)
,(18,31,'CLOSED','',3,2)
,(16,31,'CLOSED','',3,1)
,(15,31,'CLOSED','',2,1)
,(4,31,'CLOSED','',7,1)
,(16,32,'CLOSED','',3,2)
,(13,32,'CLOSED','',10,2)
,(6,32,'CLOSED','',4,1)
,(8,32,'CLOSED','',8,1)
,(1,33,'CLOSED','',5,1)
,(8,33,'CLOSED','',8,1)
,(7,33,'CLOSED','',10,2)
,(11,33,'CLOSED','',9,2)
,(13,33,'CLOSED','',10,1)
,(5,33,'CLOSED','',10,1)
,(5,34,'CLOSED','',10,2)
,(18,34,'CLOSED','',3,2)
,(2,34,'CLOSED','',9,2)
,(3,34,'CLOSED','',10,2)
,(11,34,'CLOSED','',9,2)
,(13,34,'CLOSED','',10,1)
,(10,35,'CLOSED','',9,1)
,(17,35,'CLOSED','',2,1)
,(11,35,'CLOSED','',9,2)
,(3,35,'CLOSED','',10,2)
,(12,36,'CLOSED','',9,1)
,(13,36,'CLOSED','',10,2)
,(4,36,'CLOSED','',7,1)
,(3,36,'CLOSED','',10,1)
,(9,37,'CLOSED','',13,1)
,(5,37,'CLOSED','',10,2)
,(16,37,'CLOSED','',3,2)
,(18,37,'CLOSED','',3,2)
,(14,38,'CLOSED','',12,2)
,(5,38,'CLOSED','',10,1)
,(3,38,'CLOSED','',10,1)
,(7,38,'CLOSED','',10,2)
,(2,38,'CLOSED','',9,2)
,(3,39,'CLOSED','',10,1)
,(6,39,'CLOSED','',4,1)
,(8,40,'CLOSED','',8,1)
,(15,41,'CLOSED','',2,2)
,(11,41,'CLOSED','',9,2)
,(18,41,'CLOSED','',3,1)
,(5,41,'CLOSED','',10,1)
,(3,42,'CLOSED','',10,2)
,(17,42,'CLOSED','',2,1)
,(6,42,'CLOSED','',4,2)
,(17,43,'CLOSED','',2,1)
,(16,43,'CLOSED','',3,2)
,(13,44,'CLOSED','',10,2)
,(10,44,'CLOSED','',9,1)
,(17,44,'CLOSED','',2,1)
,(5,45,'IN PROGRESS','',10,1)
,(7,45,'IN PROGRESS','',10,2)
,(13,45,'IN PROGRESS','',10,1)
,(2,45,'IN PROGRESS','',9,2)
,(12,45,'IN PROGRESS','',9,2)
,(6,45,'IN PROGRESS','',4,1)
,(15,46,'IN PROGRESS','',2,2)
,(6,46,'IN PROGRESS','',4,2)
,(2,46,'IN PROGRESS','',9,2)
,(13,46,'IN PROGRESS','',10,2)
,(10,46,'IN PROGRESS','',9,2)
,(6,47,'IN PROGRESS','',4,1)
,(13,47,'IN PROGRESS','',10,1)
,(3,47,'IN PROGRESS','',10,2)
,(14,47,'IN PROGRESS','',12,2)
,(1,48,'IN PROGRESS','',5,1)
,(15,48,'IN PROGRESS','',2,2)
,(5,48,'IN PROGRESS','',10,2)
,(16,48,'IN PROGRESS','',3,1)
,(4,48,'IN PROGRESS','',7,1)
,(2,49,'IN PROGRESS','',9,1)
,(12,49,'IN PROGRESS','',9,1)
,(4,49,'IN PROGRESS','',7,2)
,(16,49,'IN PROGRESS','',3,1)
,(5,49,'IN PROGRESS','',10,1)
,(17,49,'IN PROGRESS','',2,1)
,(2,50,'IN PROGRESS','',9,1)
,(8,50,'IN PROGRESS','',8,2)
,(5,50,'IN PROGRESS','',10,1)
,(1,50,'IN PROGRESS','',5,2)
,(14,50,'IN PROGRESS','',12,1)
,(12,50,'IN PROGRESS','',9,2)
,(16,50,'IN PROGRESS','',3,1)
,(1,51,'IN PROGRESS','',5,2)
,(18,51,'IN PROGRESS','',3,2)
,(10,51,'IN PROGRESS','',9,1)
,(5,51,'IN PROGRESS','',10,1)
,(2,51,'IN PROGRESS','',9,2)
,(8,51,'IN PROGRESS','',8,1)
,(16,52,'OPEN','',3,1)
,(3,52,'OPEN','',10,1)
,(6,52,'OPEN','',4,2)
,(5,52,'OPEN','',10,1)
,(9,52,'OPEN','',13,1)
,(15,52,'OPEN','',2,1)
,(10,53,'OPEN','',9,1)
,(16,53,'OPEN','',3,1)
,(3,53,'OPEN','',10,2)
,(13,53,'OPEN','',10,2)
,(17,53,'OPEN','',2,1)
,(14,53,'OPEN','',12,2)
,(11,53,'OPEN','',9,1)
,(15,53,'OPEN','',2,1)

;
-- Insert values into employees
insert into employees values (1,'Josh','Thybony',1,1)
,(2,'Sophia','Kim',1,1)
,(3,'Xiaoyi','Zhu',1,1)
,(4,'Terence','Rice',1,1)
,(5,'Bill','Johnson',2,1)
,(6,'John','Smith',2,1)
,(7,'Andrew','Flake',3,1)
,(8,'Frank','Armstrong',3,1)
,(9,'Stan','Colton',3,1)
,(10,'Leonard','Nielson',3,1)
,(11,'Jack','Danielson',3,1)
,(12,'Marie','Robinson',4,1)
,(13,'Rebecca','McKenzie',4,1)
;
;

-- Managers View
select e.* from employees e
left outer join roles r on e.employee_role_id = r.role_id
where r.role_id = 1